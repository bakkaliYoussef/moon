<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>العداد التنازلي للزفاف — 2026/09/01</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #0b1220;
      --accent: #ff6b81;
      --accent2: #ffb86b;
      --glass: rgba(255, 255, 255, 0.06);
    }
    * { box-sizing: border-box; }
    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Tajawal', sans-serif;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,107,129,0.06), transparent),
        radial-gradient(800px 400px at 90% 90%, rgba(255,184,107,0.04), transparent), var(--bg);
      color: #e6eef8;
    }

    .wrap {
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .card {
      width: 100%;
      max-width: 900px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      backdrop-filter: blur(6px);
      border-radius: 20px;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    h1 {
      margin: 0;
      font-size: clamp(1.2rem, 4vw, 1.8rem);
      text-align: center;
    }

    .lead {
      text-align: center;
      font-size: clamp(0.9rem, 3vw, 1rem);
      opacity: 0.9;
    }

    .timer {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 16px;
    }

    .unit {
      background: var(--glass);
      padding: 14px;
      border-radius: 12px;
      min-width: 75px;
      text-align: center;
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
      border: 1px solid rgba(255,255,255,0.02);
    }

    .num {
      font-size: clamp(1.4rem, 6vw, 2rem);
      font-weight: 700;
    }

    .label {
      font-size: clamp(0.7rem, 2vw, 0.9rem);
      opacity: 0.85;
      margin-top: 4px;
    }

    .card-heart {
      width: 100%;
      background: linear-gradient(90deg,var(--accent),#ff8aa0);
      padding: 16px;
      border-radius: 14px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      align-items: center;
      justify-content: center;
      color: #061024;
      text-align: center;
    }

    .heart {
      font-size: 40px;
    }

    .status-box {
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.9;
    }

    .controls {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    button {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.1);
      padding: 8px 10px;
      border-radius: 10px;
      color: inherit;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background 0.2s;
    }

    button:hover {
      background: rgba(255,255,255,0.05);
    }

    .confetti {
      position: fixed;
      left: 0;
      top: 0;
      pointer-events: none;
      right: 0;
      bottom: 0;
    }

    @media (min-width: 768px) {
      .card {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }
      .hero {
        flex: 1;
      }
      .aside {
        width: 280px;
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="hero">
        <h1>العد التنازلي ليوم زفافنا — <strong>1 سبتمبر 2026</strong></h1>
        <p class="lead">تذكير يومي باليوم الكبير ❤️</p>

        <div class="timer" aria-live="polite">
          <div class="unit"><div class="num" id="days">0</div><div class="label">أيام</div></div>
          <div class="unit"><div class="num" id="hours">00</div><div class="label">ساعات</div></div>
          <div class="unit"><div class="num" id="minutes">00</div><div class="label">دقائق</div></div>
          <div class="unit"><div class="num" id="seconds">00</div><div class="label">ثواني</div></div>
        </div>

        <div class="controls">
          <button id="toggleCount">احتفل الآن 🎉</button>
          <button id="setMidnight">منتصف الليل المحلي</button>
        </div>
        <div style="text-align:center;font-size:0.8rem;opacity:0.8;margin-top:6px">الهدف: <span id="targetText">2026-09-01 00:00 (المحلي)</span></div>
      </div>

      <div class="aside">
        <div class="card-heart">
          <div class="heart">💖</div>
          <div style="font-weight:700">زفافنا</div>
          <div class="small">1 سبتمبر 2026</div>
          <div class="meta" style="font-size:0.8rem;opacity:0.9">كل صباح تذكير بالحب</div>
        </div>
        <div class="status-box"><div id="status">جارٍ العد...</div></div>
      </div>
    </div>
  </div>

  <canvas id="confetti" class="confetti"></canvas>

  <script>
    let target = new Date(2026, 8, 1, 0, 0, 0);
    const daysEl = document.getElementById('days');
    const hoursEl = document.getElementById('hours');
    const minutesEl = document.getElementById('minutes');
    const secondsEl = document.getElementById('seconds');
    const statusEl = document.getElementById('status');
    const targetText = document.getElementById('targetText');

    function pad(n){return String(n).padStart(2,'0');}

    function update() {
      const now = new Date();
      let diff = target - now;
      const past = diff < 0;
      if (past) diff = now - target;

      const sec = Math.floor(diff/1000) % 60;
      const min = Math.floor(diff/1000/60) % 60;
      const hr = Math.floor(diff/1000/60/60) % 24;
      const day = Math.floor(diff/1000/60/60/24);

      daysEl.textContent = day;
      hoursEl.textContent = pad(hr);
      minutesEl.textContent = pad(min);
      secondsEl.textContent = pad(sec);

      statusEl.textContent = !past ? 'جارٍ العد...' : `🎊 متزوجون منذ ${day} يوم`;
      if (!past && Math.abs(target - now) < 1100) celebrate();
    }

    setInterval(update, 1000);
    update();

    document.getElementById('setMidnight').addEventListener('click', ()=>{
      target = new Date(target.getFullYear(), target.getMonth(), target.getDate(), 0, 0, 0);
      targetText.textContent = formatTarget(target) + ' (المحلي)';
    });

    document.getElementById('toggleCount').addEventListener('click', celebrate);

    function formatTarget(d){
      const pad = (n)=>String(n).padStart(2,'0');
      return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}`;
    }
    targetText.textContent = formatTarget(target) + ' (المحلي)';

    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    let W = confettiCanvas.width = innerWidth;
    let H = confettiCanvas.height = innerHeight;
    window.addEventListener('resize', ()=>{W=confettiCanvas.width=innerWidth;H=confettiCanvas.height=innerHeight;});

    const pieces = [];
    function spawnConfetti(count=120){
      for(let i=0;i<count;i++){
        pieces.push({
          x: Math.random()*W,
          y: Math.random()*-H*0.5,
          vx: (Math.random()-0.5)*6,
          vy: 2+Math.random()*6,
          r: 6+Math.random()*8,
          color: `hsl(${Math.random()*360}deg 80% 60%)`,
          tilt: Math.random()*0.5-0.25
        });
      }
      if(!animRunning){animRunning=true;requestAnimationFrame(step);}
    }

    function drawPiece(p){
      ctx.beginPath();
      ctx.ellipse(p.x, p.y, p.r, p.r*0.6, p.tilt, 0, Math.PI*2);
      ctx.fillStyle = p.color; ctx.fill();
    }

    let animRunning = false;
    function step(){
      ctx.clearRect(0,0,W,H);
      for(let i=pieces.length-1;i>=0;i--){
        const p = pieces[i];
        p.x += p.vx; p.y += p.vy; p.vy += 0.04; p.tilt += 0.01;
        drawPiece(p);
        if(p.y>H+30 || p.x<-50 || p.x>W+50) pieces.splice(i,1);
      }
      if(pieces.length>0) requestAnimationFrame(step); else animRunning=false;
    }

    function celebrate(){
      spawnConfetti(200);
      statusEl.style.transform='scale(1.1)';
      setTimeout(()=>statusEl.style.transform='scale(1)',600);
    }

    window.addEventListener('keydown', (e)=>{if(e.key.toLowerCase()==='c') pieces.length=0;});
  </script>
</body>
</html>
